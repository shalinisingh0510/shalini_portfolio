@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --bg: 248 249 252;
    --fg: 17 24 39;
    --muted: 100 116 139;
    --accent: 79 70 229;
    --card: 255 255 255;
    --border: 226 232 240;
    --ring: 79 70 229;
    --highlight: 14 165 233;
  }

  .dark {
    --bg: 8 11 18;
    --fg: 229 231 235;
    --muted: 148 163 184;
    --accent: 124 93 255;
    --card: 17 24 39;
    --border: 30 41 59;
    --ring: 124 93 255;
    --highlight: 56 189 248;
  }

  * {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    background-image:
      radial-gradient(800px 500px at 10% -10%, rgb(var(--highlight) / 0.12), transparent 60%),
      radial-gradient(900px 600px at 90% 10%, rgb(var(--accent) / 0.14), transparent 55%),
      radial-gradient(700px 450px at 50% 110%, rgb(var(--highlight) / 0.10), transparent 60%);
    background-attachment: fixed;
  }

  h1,
  h2,
  h3,
  h4 {
    @apply font-display;
  }
}

@layer utilities {
  .text-gradient {
    background: linear-gradient(120deg, rgb(var(--accent)), rgb(var(--highlight)));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .glass {
    @apply bg-card/70 backdrop-blur border border-border/70;
  }

  .glass-card {
    @apply bg-card/65 backdrop-blur border border-border/70 shadow-soft;
    transform-style: preserve-3d;
  }

  .glass-card__glow {
    @apply pointer-events-none absolute inset-0 opacity-0 transition duration-500;
    background: radial-gradient(600px 200px at 20% -10%, rgb(var(--accent) / 0.25), transparent 60%);
  }

  .glass-card:hover .glass-card__glow {
    opacity: 1;
  }

  .glass-card__border {
    @apply pointer-events-none absolute inset-0;
    border-radius: inherit;
    border: 1px solid rgb(var(--border) / 0.4);
  }

  .card-3d {
    transform-style: preserve-3d;
    transition: transform 400ms ease, box-shadow 400ms ease;
  }

  .card-3d:hover {
    transform: perspective(900px) rotateX(3deg) rotateY(-3deg) translateY(-6px);
    box-shadow: 0 20px 40px rgb(2 6 23 / 0.25);
  }

  .badge-3d {
    transform: perspective(900px) translateZ(0) rotateX(8deg) rotateY(-8deg);
    transform-style: preserve-3d;
    transition: transform 300ms ease, box-shadow 300ms ease, filter 300ms ease;
    will-change: transform;
    box-shadow:
      0 12px 24px rgb(2 6 23 / 0.22),
      inset 0 1px 0 rgb(255 255 255 / 0.12);
  }

  .badge-3d:hover {
    transform: perspective(900px) translateZ(18px) rotateX(2deg) rotateY(-2deg);
    box-shadow:
      0 18px 36px rgb(2 6 23 / 0.28),
      inset 0 1px 0 rgb(255 255 255 / 0.16);
    filter: saturate(1.05);
  }

  .badge-3d__icon {
    transform: translateZ(14px);
  }

  .badge-3d__text {
    transform: translateZ(10px);
  }

  .page-3d {
    transform-style: preserve-3d;
    perspective: 1200px;
  }

  .floating-chip {
    @apply flex items-center gap-2 rounded-2xl border border-border/70 bg-card/60 px-4 py-2 text-[11px] font-semibold text-foreground/90 shadow-soft backdrop-blur;
    transform-style: preserve-3d;
    transform: perspective(800px) translateZ(0) rotateX(8deg) rotateY(-8deg);
    box-shadow:
      0 14px 28px rgb(2 6 23 / 0.25),
      inset 0 1px 0 rgb(255 255 255 / 0.12);
  }

  .floating-chip__icon {
    @apply h-7 w-7 rounded-xl border border-border/60 flex items-center justify-center text-[10px] font-bold;
    transform: translateZ(14px);
  }

  .floating-chip__label {
    transform: translateZ(10px);
  }

  .skill-card {
    @apply flex items-center gap-4 rounded-2xl border border-border/70 bg-card/65 px-4 py-4 backdrop-blur;
    transform-style: preserve-3d;
    transition: box-shadow 300ms ease, border-color 300ms ease;
  }

  .skill-card:hover {
    border-color: rgb(var(--border) / 0.9);
    box-shadow:
      0 18px 32px rgb(2 6 23 / 0.25),
      inset 0 1px 0 rgb(255 255 255 / 0.12);
  }

  .skill-icon {
    @apply h-12 w-12 rounded-full border border-border/70 flex items-center justify-center text-sm font-semibold;
    background: radial-gradient(circle at 30% 20%, rgb(var(--accent) / 0.25), transparent 60%);
    transform: translateZ(12px);
  }

  .skill-fill {
    background: linear-gradient(90deg, rgb(var(--accent) / 0.9), rgb(var(--highlight) / 0.9));
  }

  .depth-button {
    @apply inline-flex items-center gap-2 rounded-full border border-border/70 bg-card/60 px-3 py-1 text-xs font-semibold;
    box-shadow:
      0 10px 20px rgb(2 6 23 / 0.2),
      inset 0 1px 0 rgb(255 255 255 / 0.1);
    transition: transform 200ms ease, box-shadow 200ms ease;
  }

  .depth-button:active {
    transform: translateY(1px);
    box-shadow:
      0 6px 14px rgb(2 6 23 / 0.2),
      inset 0 1px 0 rgb(255 255 255 / 0.1);
  }

  .nav-link {
    @apply relative;
  }

  .nav-link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -6px;
    height: 2px;
    width: 0;
    background: linear-gradient(90deg, rgb(var(--accent)), rgb(var(--highlight)));
    transition: width 300ms ease;
  }

  .nav-link:hover::after {
    width: 100%;
  }

  .translate-z-2 {
    transform: translateZ(2px);
  }

  .translate-z-3 {
    transform: translateZ(3px);
  }

  .translate-z-4 {
    transform: translateZ(4px);
  }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation: none !important;
    transition-duration: 0.01ms !important;
  }
}
